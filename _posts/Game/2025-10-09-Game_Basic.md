---
title: 게임 제작 기초
date: 2025-10-09 21:00:00 +0900
categories: [Game, Concept]
tags: [Programming, C++, Game]
---

## 게임의 기본 구조
부드러운 화면을 연출하기 위해서는 1초에 60Frame 이상은 뽑아야 한다. (60FPS)

### Initialize 
애셋 초기화 및 게임 상태 초기화

=============== Loop 진입 =================

### Input
입력 장치를 통해 사용자가 의사 표시를 하는 단계

### Logic
입력 단계에서 받은 내용을 가지고 게임을 진행시키는 단계
- 상태와 관련된 로직 : HP, MP 등의 수치 상태 변경
- 연출과 관련된 로직(Cosmetic Logic) : 애니메이션, 효과, UI 변경

### Rendering
진행된 게임을 렌더링 파이프라인을 거쳐 화면에 뿌려주는 단계

=============== Loop 탈출 =================

### Cleanup
사용된 메모리를 정리하고 종료

## 온라인 게임
네트워크 통신을 통해 다수가 같이하는 게임.     
- P2P (Peer to Peer) : 클라이언트끼리 서로 통신을 하여 동작하는 방식 (해킹에 취약함)
- Client - Server : 중앙 Server를 두고 통신을 하여 동작하는 방식

동일한 환경을 제공하기 위해 동기화가 중요함. 서버에서 모든 인증과 판정이 이루어져야 한다.

하지만 일부 컨텐츠(입력에 대한 이동)에 한해서는 UX를 위해 클라이언트에서 이동 후 서버에 이동 승인 요청
잘못된 패킷이거나 네트워크 지연 등의 이유로 실패하게 되면 이동이 롤백되는 현상도 발생함.

### 메인 루프 구조    
- Input     
클라이언트만 진행     

- Logic    
클라이언트는 입력 상태를 서버로 보냄.     
서버는 상태 로직을 실행시킨 후, 결과를 클라이언트에 보냄.    
클라이언트는 연출 로직 실행

- Rendering    
클라이언트만 진행

### 온라인 게임의 진행 흐름
1. 서버에 가상 월드를 생성    

2. 사물에 모든 ID를 부여     

3. 입장 단계 :     
클라이언트 입장 패킷 전송    
서버는 데이터베이스를 확인하여 정상 패킷인지 확인    
가상 월드에 캐릭터 스폰 후, 클라이언트에 초기 패킷 전송      

4. 각 클라이언트는 사물에 빙의하여 제어

5. 시뮬레이션 + Server Authority    

6. 브로드캐스팅 (언리얼 엔진 - 멀티 캐스팅)

#### 서버 3대 부하
- CPU  

- 네트워크
 
- 데이터베이스